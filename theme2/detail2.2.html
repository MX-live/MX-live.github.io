<!doctype html>
<html lang="zh">

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<title>Mingxin.live</title>
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<link rel="stylesheet" type="text/css" href="statics/css/index.css" media="all" />
		<link rel="stylesheet" type="text/css" href="statics/css/detail.css" />
	</head>

	<body class="home blog custom-background round-avatars" itemscope itemtype="http://schema.org/Organization">
		<div class="Yarn_Background" style="background-image: url( statics/images/47fb3c_.jpg);"></div>
		<form class="js-search search-form search-form--modal" method="get" action="search.html" role="search">
			<div class="search-form__inner">
				<div>
					<div id="search-container" class="ajax_search">
						<form method="get" id="searchform" action="">
							<div class="filter_container"><input type="text" value="" autocomplete="off" placeholder="Type then select or enter" name="s" id="search-input" />
								<ul id="search_filtered" class="search_filtered"></ul>
							</div>
							<input type="submit" name="submit" id="searchsubmit" class="searchsubmit" value="" />
						</form>
					</div>
				</div>
			</div>
		</form>
		<div class="navi" data-aos="fade-down">
			<div class="bt-nav">
				<div class="line line1"></div>
				<div class="line line2"></div>
				<div class="line line3"></div>
			</div>
			<div class="navbar animated fadeInRight">
				<div class="inner">
					<nav id="site-navigation" class="main-navigation">
						<div id="main-menu" class="main-menu-container">
							<div class="menu-menu-container">
								<ul id="primary-menu" class="menu">
									<li id="menu-item-17" class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item current_page_item menu-item-home menu-item-17">
										<a href="index.html">上级首页</a>
									</li>
									<li id="menu-item-173" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-173">
										<a href="update.html">更新</a>
									</li>
									<li id="menu-item-78" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-78">
										<a href="link.html">链接</a>
									</li>
									<li id="menu-item-252" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-252">
										<a href="archives.html">归档</a>
										<ul class="sub-menu">
											<li id="menu-item-165" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-165">
												<a href="">theme</a>
											</li>
											<li id="menu-item-163" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-163">
												<a href="">Happen</a>
											</li>
											<li id="menu-item-924" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-924">
												<a href="">WeWork</a>
											</li>
											<li id="menu-item-164" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-164">
												<a href="">WordPress</a>
											</li>
										</ul>
									</li>
									<li id="menu-item-57" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-57">
										<a href="gustbook.html">留言</a>
									</li>
								</ul>
							</div>
						</div>
					</nav>
					<!-- #site-navigation -->
				</div>
			</div>
		</div>
		<div class="hebin" data-aos="fade-down">
			<i class=" js-toggle-search iconfont">&#xe60e;</i>
		</div>
		<header id="masthead" class="overlay animated from-bottom" itemprop="brand" itemscope itemtype="http://schema.org/Brand">
			<div class="site-branding text-center">
				<a href="">
					<figure>
						<img class="custom-logo avatar" src="statics/images/omikron.png" />
					</figure>
				</a>
				<h3 class="blog-description"><p>Ming Xin.live</p></h3>
			</div>
			<!-- .site-branding -->
			<div class="decor-part">
				<div id="particles-js"></div>
			</div>
			<div class="animation-header">
				<div class="decor-wrapper">
					<svg id="header-decor" class="decor bottom" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" preserveAspectRatio="none">
						<path class="large left" d="M0 0 L50 50 L0 100" fill="rgba(255,255,255, .1)"></path>
						<path class="large right" d="M100 0 L50 50 L100 100" fill="rgba(255,255,255, .1)"></path>
						<path class="medium left" d="M0 100 L50 50 L0 33.3" fill="rgba(255,255,255, .3)"></path>
						<path class="medium right" d="M100 100 L50 50 L100 33.3" fill="rgba(255,255,255, .3)"></path>
						<path class="small left" d="M0 100 L50 50 L0 66.6" fill="rgba(255,255,255, .5)"></path>
						<path class="small right" d="M100 100 L50 50 L100 66.6" fill="rgba(255,255,255, .5)"></path>
						<path d="M0 99.9 L50 49.9 L100 99.9 L0 99.9" fill="rgba(255,255,255, 1)"></path>
						<path d="M48 52 L50 49 L52 52 L48 52" fill="rgba(255,255,255, 1)"></path>
					</svg>
				</div>
			</div>
		</header>
		<div id="main" class="content">
			<div class="container">
				<article id="post-1202" class="js-gallery post-1202 post type-post status-publish format-standard has-post-thumbnail hentry category-uncategorized tag-11 tag-22 tag-29">
					<style>
						.container {
							padding: 10px 0px;
						}
						
						.post {
							margin: 0 auto
						}
					</style>
					<section class="post_content">
						<header class="post_header">
							<h1 class="post_title">计算机的基本知识</h1>
						</header>
						<div class="post-body js-gallery">
							<h1 id="前言">前言</h1> 
							<p>本篇主要讲解文件描述符，信息的存储及寻址，过程的基本知识，通过了解这些，掌握信息在计算机中是怎样存储和查找的，知道堆栈的过程，为学习缓冲区溢出做铺垫。</p> 
							<h1 id="文件描述符">一：文件描述符</h1> 
								<h2>1.1：文件描述符简介</h2>
								<p> 在Unix或Linux系统中，内核（kernel）利用文件描述符（file descriptor）来访问文件。文件描述符是非负整数，Linux系统将所有设备都当作文件来处理，而Linux用文件描述符来标识每个文件对象，打开现存文件或新建文件时，内核会返回一个文件描述符，读写文件也需要使用文件描述符来指定待读写的文件。一般来说一个进程最多可以打开64个文件（0~63），每个进程最多可以打开文件的多少取决于系统内存的大小，int 的大小，以及系统管理员设定的限制。</p>
								<h2>1.2：标准输入，标准输出，标准错误</h2>
								<p>按照惯例，UNIX 系统 shell 把文件描述符 0 与进程的标准输入（standard input）关联，文件描述符 1 与标准输出（standard output）关联，文件描述符 2 与标准错误（standard error）关联。这是各种 shell 以及很多应用程序使用的惯例。程序刚刚启动的时候，0是标准输入，1是标准输出，2是标准错误。如果此时去打开一个新的文件，它的文件描述符会是3。文件描述符2理解为我们和计算机交互时，计算机出现错误时的输出，而这个输出默认是和文件描述符1指向一个位置；POSIX标准要求每次打开文件时（含socket）必须使用当前进程中最小可用的文件描述符号码，因此，在网络通信过程中稍不注意就有可能造成串话</p>
								<img width="1066" height="190" src="index2/2.2/2.2.1.jpg">
								<h2>1.3：对文件描述符  0,1,2   的应用</h2>
								<p>由于文件描述符  0,1,2   分别与标准输入、标准输出、标准错误输出相关联，通过制定标准输入和输出的位置可以起到输入/输出重定向的功能。</p>
								<code>
									<li><strong> exec 3>&1</strong></li>
									<li> <strong>exec 1>test</strong></li>
									<li> <strong>echo "这句话被存到test文件中"</strong></li>
									<li> <strong>echo "还有这句"</strong></li>
									<li> <strong>exec 1>&3</strong></li>
									<li> <strong>echo "这句话输出到显示器"</strong></li>
								</code>
								<p>我们来一步一步理解上面的命令：首先文件描述符1默认指向的是显示器，用&来找到文件描述符1指向的目标文件，也就是显示器。因此文件描述符3也指向了显示器。然后，我们修改了文件描述符1指向的文件到test文件。接着两个echo命令的输出会自然去找文件描述符1，然后它看到文件描述符1指向的是test文件，所以它会把输出写到test文件中。最后，我们用&来找到文件描述符3指向的目标文件，也就是显示器，然后我们修改了文件描述符1指向的文件到显示器。因此，最后一个echo命令会自然的找文件描述符1然后输出到显示器上。</p>
								<img src="index2/2.2/2.2.3.jpg">
								<h2>1.4： 文件描述符合打开文件之间的关系</h2>
								<p>每一个文件描述符会与一个打开文件相对应，同时，不同的文件描述符也会指向同一个文件。相同的文件可以被不同的进程打开也可以在同一个进程中被多次打开。系统为每一个进程维护了一个文件描述符表，该表的值都是从0开始的，所以在不同的进程中你会看到相同的文件描述符，这种情况下相同文件描述符有可能指向同一个文件，也有可能指向不同的文件。具体情况要具体分析，要理解具体其概况如何，需要查看由内核维护的3个数据结构。</p>
								<ol>
									<li>进程级的文件描述符</li>
									<p>进程级的文件描述符表的每一条目记录了单个文件描述符的相关信息</p>
									<li>系统级的打开文件描述符表</li>
									<p>内核对所有打开的文件的文件维护有一个系统级的描述符表格，并将表格中各条目称为打开文件句柄。一个打开文件句柄存储了与一个打开文件相关的全部信息</p>
									<li>文件系统的i-node</li>
									<p></p>
								</ol>
								<h3>文件描述符、打开文件句柄和i-node之间的关系</h3>
								<img src="index2/2.2/2.2.2.jpg">
								<p> 在进程A中，文件描述符1和30都指向了同一个打开的文件句柄（标号23）。这可能是通过调用dup()、dup2()、fcntl()或者对同一个文件多次调用了open()函数而形成的。</p>
   								<p> 进程A的文件描述符2和进程B的文件描述符2都指向了同一个打开的文件句柄（标号73）。这种情形可能是在调用fork()后出现的（即，进程A、B是父子进程关系），或者当某进程通过UNIX域套接字将一个打开的文件描述符传递给另一个进程时，也会发生。再者是不同的进程独自去调用open函数打开了同一个文件，此时进程内部的描述符正好分配到与其他进程打开该文件的描述符一样。</p>
    							<p>	此外，进程A的描述符0和进程B的描述符3分别指向不同的打开文件句柄，但这些句柄均指向i-node表的相同条目（1976），换言之，指向同一个文件。发生这种情况是因为每个进程各自对同一个文件发起了open()调用。同一个进程两次打开同一个文件，也会发生类似情况。</p>
    					

						<h1 id="信息的存储以及寻址">二：信息的存储以及寻址</h1>
							<h2>前言</h2>
							<p>现代计算机存储和处理的信息都以二进制信号表示，大多数计算机使用8位的块（字节）作为最小的可寻址的内存单位</p>
							<h2>2.1：信息在计算机中的存储</h2>
							<h3>2.1.1：字数据的大小</h3>
							<p>每台计算机都有一个字长，常见的有32位字长和64位字长，而虚拟地址就是以这样的一个字来编码的，所以字长决定虚拟地址空间的最大大小，一台计算机的字长为m位时，它的虚拟地址空间范围为0到2的m次方减1，程序最多访问2的m次方个字节，故而32位字长的计算机限制虚拟地址空间为4GB，64位字长的虚拟地址空间大小为16EB</p>
							<h3>2.1.2：虚拟内存</h3>
							<p>虚拟内存是对主存的抽象概念，虚拟内存是硬件异常，硬件地址翻译、主存、磁盘文件和内核软件的完美交互，它为每个进程提供了大的一致的和私有的地址空间。虚拟内存提供了三个重要能力。</p>
							<ol>
								<li>它将主存看成是一个存储在磁盘上的地址空间的高速缓存，在主存中只保存活动区域，并根据需要在磁盘和主存中来回传送数据，通过这种方式它高效的使用了主存。</li>
								<li>它为每个进程提供了一致的地址空间，从而简化了内存管理</li>
								<li>它保护了每个进程的地址空间不被其他进程破坏</li>
							</ol>
							<h2>2.2：信息的寻址</h2>
							<p>计算机系统的主存是由M个连续的字节大小的单元组成的数组。每个字节都有唯一的一个物理地址，第一个字节的地址为0，以此类推。</p>
							<h3>2.2.1：物理寻址的过程</h3>
							<ol>
								<li>CPU读取执行一条加载指令，生成一个有效物理地址</li>
								<li>CPU通过内存总线将物理地址传递给主存</li>
								<li>主存取出从物理地址开始的需要的字节，并将它返回给CPU</li>
								<li>CPU将取出的代用的字节放在寄存器</li>
							</ol>
							<h3>2.2.2：虚拟寻址</h3>
							<ol>
								<li>使用虚拟寻址，CPU通过生成一个虚拟地址来访问主存，这个虚拟地址在被送到内存之前先转换成适当的物理地址（即地址翻译）</li>
								<p>CPU芯片上叫做内存管理单元的专用硬件，利用存放在主存中的查询表来动态翻译虚拟地址</p>
								<li>当虚拟地址被转换成适当的物理地址后，接下来的寻址方式就和物理寻址相同了</li>
							</ol>
							<h3>2.2.3：地址空间</h3>
							<p>地址空间是一个非负整数地址的有序集合，一个地址空间的大小是由表示最大地址所需要的位数来描述的，例如一个包含2的n次方个地址的虚拟地址空间就叫做一个n位地址空间，现代系统通常支持32位或64位虚拟地址空间</p>
							<p>一个系统还有一个物理地址空间，对应系统中物理内存的M个字节，每个数据对象有多个独立的地址，其中每个对象都选自一个不同的地址空间，主存中的每个字节都有一个选自虚拟地址空间的虚拟地址和一个选自物理地址空间的物理地址。</p>
							<h3>2.2.4：一个VM（虚拟内存）系统是如何使用主存作为缓存的</h3>
							<p>虚拟内存被组织为一个由存放在磁盘上的N个连续的字节大小的单元组成的数组。每个字节都有一个唯一的虚拟地址作为数组的索引，磁盘上数组的内容被缓存在主存中。虚拟内存分为多个大小固定的虚拟页，而物理内存也被分割为大小相同的物理页（页帧）</p>
							<p>虚拟页的状态：可分为以下三个不相交的子集：</p>
							<ol>
								<li><strong> 未分配的：</strong> VM 系统还未分配或创建的页，未分配的页没有任何数据和他们相关联，因此也就不占用任何磁盘空间</li>
								<li><strong>缓存的：</strong> 当前已经缓存在物理内存中的已分配页 </li>
								<li><strong>未缓存的：</strong> 未缓存在物理内存中的已分配页 </li>
							</ol>
							<p>三种状态图解：</p>
							<img src="index2/2.2/2.2.4.jpg">
							<p>虚拟页0和3未分配，虚拟页1,4,6被缓存在物理内存中，虚拟页2，5，7已分配但未缓存在主存中</p>
							<h3>2.2.4：页表</h3>
							<h1>未完待续。。。</h1>





						<div class="meta split split--responsive cf">
							<div class="split__title">
								<time datetime="2019-03">2019-03</time>
								<span class=""><a href="" rel="tag">主题</a><a href="" rel="tag">日常</a><a href="" rel="tag">更新</a> </span>
							</div>
							<div id="social-share"><span class="entypo-share"><i class="iconfont">&#xe614;</i>分享</span></div>
							<div class="slide">
								<a class="btn-slide" title="switch down"><i class="iconfont">&#xe615;</i>折叠评论区</a>
							</div>
						</div>
					</section>
				</article>
			</div>
			<svg id="upTriangleColor" width="100%" height="40" viewBox="0 0 100 102" preserveAspectRatio="none">
				<path d="M0 0 L50 100 L100 0 Z"></path>
			</svg>
			<div id="social">
				<ul>
					<li>
						<a href="" title="qzone" target="_blank"><i class="iconfont">&#xe67f;</i></a>
					</li>
					<li>
						<a href="" title="weibo" target="_blank"><i class="iconfont">&#xe680;</i></a>
					</li>
					<li>
						<a href="" title="douban" target="_blank"><i class="iconfont">&#xe681;</i></a>
					</li>
					<li>
						<a href="" title="twitter" target="_blank"><i class="iconfont">&#xe683;</i></a>
					</li>
				</ul>
			</div>
			<div id="panel">
				<div class="comment-area">
					<!--<section class="comments">
						<div class="comments-main">
							<div id="comments-list-title"><span>30</span> 条评论 </div>
							<div id="loading-comments">
								<div class="host">
									<div class="loading loading-0"></div>
									<div class="loading loading-1"></div>
									<div class="loading loading-2"></div>
								</div>
							</div>
							<ul class="commentwrap">
								<li class="comment even thread-even depth-1" id="li-comment-">
									<div id="comment-969" class="comment_body contents">
										<div class="profile">
											<a href=""><img src="statics/images/9cc50a9e422fb1c89aebafeb959cef7a.jpg" class="gravatar" alt="小布丁"></a>
										</div>
										<div class="main shadow">
											<div class="commentinfo">
												<section class="commeta">
													<div class="shang">
														<h4 class="author"><a href="" target="_blank"><img src="statics/images/9cc50a9e422fb1c89aebafeb959cef7a.jpg" class="gravatarsmall" alt="小布丁">小布丁</a></h4>
													</div>
												</section>
											</div>
											<div class="body">
												<p></p>
											</div>
											<div class="xia info">
												<span><time datetime="2018-03-09">2018年3月9日</time></span>
												<span><a rel='nofollow' class='comment-reply-link' href="" onclick='return addComment.moveForm( "comment-969", "969", "respond", "1202" )' aria-label='回复给小布丁'>回复</a></span>
											</div>
										</div>
									</div>
								</li>
								<!-- #comment-## -->
							</ul>
							<nav id="comments-navi">
								<a class="prev page-numbers" href="">
									<</a>
										<a class='page-numbers' href="">1</a>
										<a class='page-numbers' href="">2</a>
										<a class='page-numbers' href="">3</a>
										<span aria-current='page' class='page-numbers current'>4</span></nav>
							<div id="respond" class="comment-respond">
								<h6 id="replytitle" class="comment-reply-title"><a rel="nofollow" id="cancel-comment-reply-link" href="" style="display:none;">取消</a></h6>
								<form action="#" method="post" id="commentform" class="clearfix">
									<div class="clearfix"></div>
									<div class="author-info">
										<input type="text" name="author" id="author" placeholder="昵  称 : " value="" tabindex="1" title="Name (required)" />
										<input type="text" name="email" id="email" placeholder="邮  箱 : " value="" tabindex="2" title="E-mail(will not be published) required" />
										<input type="text" name="url" id="url" placeholder="网  址 : " value="" tabindex="3" title="Website" />
									</div>
									<div class="clearfix"></div>
									<input type='hidden' name='comment_post_ID' value='1202' id='comment_post_ID' />
									<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
									<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="632104fca1" /></p>
									<p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="87" /></p>
									<div class="comment-form-info">
										<div class="real-time-gravatar"> <img id="real-time-gravatar" src="statics/images/d41d8cd98f00b204e9800998ecf8427e.png" alt="gravatar头像" />
										</div>
										<p class="input-row">
											<i class="row-icon"></i>
											<textarea class="text_area" rows="3" cols="80" name="comment" id="comment" tabindex="4" placeholder="你不说两句吗？(°∀°)ﾉ……"></textarea>
											<input type="submit" name="submit" class="button" id="submit" tabindex="5" value="发送" />
										</p>
									</div>
								</form>
							</div>
						</div>
					</section>
				</div>
			</div>
			<svg id="dwTriangleColor" width="100%" height="40" viewBox="0 0 100 102" preserveAspectRatio="none">
				<path d="M0 0 L50 100 L100 0 Z"></path>
			</svg>
			<div class="wrapper">
			</div>
		</div>

		<div class="p-header">
			<figure class="p-image" style="background-image: url(statics/images/47fb3c_9afed6c259f94589881bd55376206366mv2_d_3840_5784_s_4_2.jpg);"></figure>
		</div>
		<div class="navpost-part">
			<div id="NextPrevPosts">
				<div class="prev" data-aos="slide-right" data-aos-delay="1.5s">
					<div class="arrow"><i class="iconfont">&#xe625;</i></div>
					<div class="preview">
						<div class="pull-left featuredImg" style="background-image:url('statics/images/mx.jpg');"></div>
						<a class="pull-left preview-content bold" href="index2.html"><span><font color="DarkBlue">点击回到上一级</font></span></a>
					</div>
				</div>
				<div class="next" data-aos="slide-left" data-aos-delay="1.5s">
					<div class="arrow"><i class="iconfont">&#xe623;</i></div>
					<div class="preview">
						<div class="pull-right featuredImg" style="background-image:url('statics/images/mx.jpg');"></div>
						<a class="pull-right preview-content bold" href="../index.html"><span><font color="DarkBlue">点击回到主页</font></span></a>
					</div>
				</div>
			</div>
		</div>

		<footer id="footer" class="overlay animated from-top">
			<div class="decor-wrapper">
				<svg id="footer-decor" class="decor top" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" preserveAspectRatio="none">
					<path class="large left" d="M0 0 L50 50 L0 100" fill="rgba(255,255,255, .1)"></path>
					<path class="large right" d="M100 0 L50 50 L100 100" fill="rgba(255,255,255, .1)"></path>
					<path class="medium left" d="M0 0 L50 50 L0 66.6" fill="rgba(255,255,255, .3)"></path>
					<path class="medium right" d="M100 0 L50 50 L100 66.6" fill="rgba(255,255,255, .3)"></path>
					<path class="small left" d="M0 0 L50 50 L0 33.3" fill="rgba(255,255,255, .5)"></path>
					<path class="small right" d="M100 0 L50 50 L100 33.3" fill="rgba(255,255,255, .5)"></path>
					<path d="M0 0 L50 50 L100 0 L0 0" fill="rgba(255,255,255, 1)"></path>
					<path d="M48 48 L50 51 L52 48 L48 48" fill="rgba(255,255,255, 1)"></path>
				</svg>
			</div>
			<div class="socialize" data-aos="zoom-in">
				<li>
					<a title="weibo" class="socialicon" href=""><i class="iconfont" aria-hidden="true">&#xe601;
			</i></a>
				</li>
				<li class="wechat">
					<a class="socialicon"><i class="iconfont">&#xe609;
			</i></a>
					<div class="wechatimg"><img src="statics/images/49D3746D-7519-B709-83E4-65BD1927C4E7.jpg"></div>
				</li>
				<li>
					<a title="QQ" class="socialicon" href="" target="_blank"><i class="iconfont" aria-hidden="true">&#xe616;
			</i></a>
				</li>
			</div>
			<div class="cr">Copyright&copy; 2018. Design by
				<a href="">17sucai</a>
			</div>
			<script type="text/javascript">
				window.onscroll = function() {
					var scrollTop = document.body.scrollTop;
					if(scrollTop >= 200) {
						document.getElementById("NextPrevPosts").style.display = "none"
					} else {
						document.getElementById("NextPrevPosts").style.display = "block"
					}
				}
			</script>
			<script type='text/javascript' src='statics/js/jquery.min.js'></script>
			<script type='text/javascript' src='statics/js/plugins.js'></script>
			<script type='text/javascript' src='statics/js/script.js'></script>
			<script type='text/javascript' src='statics/js/particles.js'></script>
			<script type='text/javascript' src='statics/js/aos.js'></script>
			<script type='text/javascript' src='statics/js/prism.js'></script>
			<script type='text/javascript' src='statics/js/gravatar.js'></script>

	</body>

</html>